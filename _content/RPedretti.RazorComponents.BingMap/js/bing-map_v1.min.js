!function(t){function e(e){for(var s,r,a=e[0],l=e[1],h=e[2],d=0,c=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&c.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);for(p&&p(e);c.length;)c.shift()();return o.push.apply(o,h||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={1:0},o=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var h=0;h<a.length;h++)e(a[h]);var p=l;o.push([5,2]),n()}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Helpers=class{static removeEmpty(t){return Object.keys(t).forEach(e=>t[e]&&"object"==typeof t[e]&&this.removeEmpty(t[e])||!t[e]&&(void 0===t[e]||null===t[e])&&delete t[e]),t}static genericFunction(t){return[window].concat(t.split(".")).reduce((function(t,e){return t[e]}))}static parseColor(t){return"string"==typeof t?Microsoft.Maps.Color.fromHex(t):new Microsoft.Maps.Color(t.a,t.r,t.g,t.b)}}},,,,,function(t,e,n){"use strict";var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{l(s.next(t))}catch(t){o(t)}}function a(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(6),o=n(9),r=n(10),a=n(11),l=n(12),h=n(13),p=n(0);class d{constructor(){this._maps=new Map,this._handlers=new Map,this._t_handlers=new Map,this._initHandler=new Map,this._initChangeHandler=new Map,this._t_initHandler=new Map,this._layers=new Map,this._notInit=[],this._mapLoaded=!1,this.invokeOnDotNet=(t,e,n)=>s(this,void 0,void 0,(function*(){var s=Object.assign({},e);s.getX=e.getX(),s.getY=e.getY(),delete s.primitive,delete s.layer,delete s.target,yield this._maps.get(t).mapRef.invokeMethodAsync(n,s)})),this.invokeChangeOnDotNet=(t,e,n)=>s(this,void 0,void 0,(function*(){yield this._maps.get(t).mapRef.invokeMethodAsync(n,e)})),this.addEventHandler=(t,e,n)=>{const s=this._maps.get(t);if(!s)throw new Error(`Map ${t} does not exist`);{const i=Microsoft.Maps.Events.addHandler(s.map,e,e=>{this.invokeOnDotNet(t,e,n)});this._handlers.has(t)||this._handlers.set(t,{}),this._handlers.get(t)[e]=i}},this.addChangeEventHandler=(t,e,n)=>{const s=this._maps.get(t);if(s){const i=Microsoft.Maps.Events.addThrottledHandler(s.map,e,s=>{this.invokeChangeOnDotNet(t,e,n)});return this._handlers.has(t)||this._handlers.set(t,{}),this._handlers.get(t)[e]=i,1}throw new Error(`Map ${t} does not exist`)},this.addThrottledEventHandler=(t,e,n)=>{const s=this._maps.get(t);if(s){const i=Microsoft.Maps.Events.addThrottledHandler(s.map,e,s=>{this.invokeChangeOnDotNet(t,"t_"+e,n)});return this._t_handlers.has(t)||this._t_handlers.set(t,{}),this._t_handlers.get(t)[e]=i,1}throw new Error(`Map ${t} does not exist`)},this.initScript=(t,e)=>{if(this._mapLoaded)window.getBingMap();else{var n=document.createElement("script");n.type="text/javascript",document.head.appendChild(n);const s=e||window.navigator.language;n.defer=!0,n.async=!0,n.src=`https://www.bing.com/api/maps/mapcontrol?callback=getBingMap&key=${t}&setLang=${s}`,this._mapLoaded=!0}return 1},this.initMap=()=>s(this,void 0,void 0,(function*(){for(var{mapId:t,mapRef:e,config:n}of this._notInit){n.backgroundColor&&(n.backgroundColor=p.Helpers.parseColor(n.backgroundColor));const o=new Microsoft.Maps.Map(`#${t}`,n);for(var{eventName:s,refEventName:i}of(this._maps.set(t,{mapRef:e,map:o}),this._initHandler.get(t)||[]))this.attachEvent(t,s,i);for(var{eventName:s,refEventName:i}of(this._initHandler.delete(t),this._initChangeHandler.get(t)||[]))this.attachChangeEvent(t,s,i);for(var{eventName:s,refEventName:i}of(this._initChangeHandler.delete(t),this._t_initHandler.get(t)||[]))this.attachThrottleEvent(t,s,i);this._t_initHandler.delete(t),yield e.invokeMethodAsync("NotifyMapLoaded")}return this._notInit.length=0,1})),this.getMap=(t,e,n,i,o)=>s(this,void 0,void 0,(function*(){p.Helpers.removeEmpty(n);try{const s=new Microsoft.Maps.Map(`#${e}`,n);return this._maps.set(e,{mapRef:t,map:s}),yield t.invokeMethodAsync("NotifyMapLoaded"),1}catch(s){return this._notInit.push({mapId:e,mapRef:t,config:n}),this.initScript(i,o),0}})),this.unloadMap=t=>{const e=this._maps.get(t);if(!e)throw new Error(`Map ${t} does not exist`);{const n=e.map;n.entities.clear(),n.layers.clear(),n.dispose(),this._maps.delete(t),this._handlers.delete(t),this._t_handlers.delete(t)}return 1},this.updateView=(t,e)=>{p.Helpers.removeEmpty(e);const n=this._maps.get(t);if(!n)throw new Error(`Map ${t} does not exist`);return n.map.setView(e),1},this.loadModule=(t,e,n,s)=>{const i=this._maps.get(t);if(i){const t=i.map;if(n){const i=p.Helpers.genericFunction(n);if(!i)throw new Error(`Function ${n} does not exist in global scope`);Microsoft.Maps.loadModule(e,i.call(null,t,s))}else Microsoft.Maps.loadModule(e,()=>{});return 1}throw new Error(`Map ${t} does not exist`)},this.addItems=(t,e)=>{let n=[];for(var s of e){let t;switch(s.type){case"bingmappushpin":t=this.pushpin.buildInstance(s);break;case"bingmappolyline":t=this.polyline.buildInstance(s);break;case"bingmappolygon":t=this.polygon.buildInstance(s)}n.push(t)}if(n.length>0){const e=this._maps.get(t);if(!e)throw new Error(`Map ${t} does not exist`);e.map.entities.push(n)}return 1},this.addItem=(t,e)=>{let n;switch(e.type){case"bingmappushpin":n=this.pushpin.buildInstance(e);break;case"bingmappolyline":n=this.polyline.buildInstance(e);break;case"bingmappolygon":n=this.polygon.buildInstance(e)}const s=this._maps.get(t);if(s)return s.map.entities.push(n),1;throw new Error(`Map ${t} does not exist`)},this.updateItem=(t,e)=>{switch(e.type){case"bingmappushpin":this.pushpin.update(e);break;case"bingmappolyline":this.polyline.update(e);break;case"bingmappolygon":this.polygon.update(e)}return 1},this.attachInfoBox=(t,e)=>{const n=this._maps.get(t);if(!n)throw new Error(`Map ${t} does not exist`);return this.infobox.setMap(e,n.map),1},this.removeItem=(t,e)=>{let n;switch(e.type){case"bingmappushpin":n=this.pushpin.remove(e.id);break;case"bingmappolyline":n=this.polyline.remove(e.id);break;case"bingmappolygon":n=this.polygon.remove(e.id)}const s=this._maps.get(t);if(s)return s.map.entities.remove(n),1;throw new Error(`Map ${t} does not exist`)},this.removeItems=(t,e)=>{let n=[];for(var s of e){let t;switch(s.type){case"bingmappushpin":t=this.pushpin.remove(s.id);break;case"bingmappolyline":t=this.polyline.remove(s.id);break;case"bingmappolygon":t=this.polygon.remove(s.id)}n.push(t)}if(n.length>0){const e=this._maps.get(t);if(!e)throw new Error(`Map ${t} does not exist`);e.map.entities.remove(n)}},this.clearItems=t=>{var e;return null===(e=this._maps.get(t))||void 0===e||e.map.entities.clear(),1},this.addLayer=(t,e)=>{var n;const s=this._maps.get(t),i=this._layers.get(e);i&&(null===(n=s)||void 0===n||n.map.layers.insert(i.layerInstance))},this.removeLayer=(t,e)=>{var n;const s=this._maps.get(t),i=this._layers.get(e);i&&(null===(n=s)||void 0===n||n.map.layers.remove(i.layerInstance))},this.attachEvent=(t,e,n)=>(this._maps.get(t)?this.addEventHandler(t,e,n):(this._initHandler.has(t)||this._initHandler.set(t,[]),this._initHandler.get(t).push({eventName:e,refEventName:n})),1),this.attachChangeEvent=(t,e,n)=>(this._maps.get(t)?this.addChangeEventHandler(t,e,n):(this._initChangeHandler.has(t)||this._initChangeHandler.set(t,[]),this._initChangeHandler.get(t).push({eventName:e,refEventName:n})),1),this.attachThrottleEvent=(t,e,n)=>(this._maps.get(t)?this.addThrottledEventHandler(t,e,n):(this._t_initHandler.has(t)||this._t_initHandler.set(t,[]),this._t_initHandler.get(t).push({eventName:e,refEventName:n})),1),this.detachEvent=(t,e)=>{const n=this._handlers.get(t)[e];return Microsoft.Maps.Events.removeHandler(n),1},this.getCenter=t=>{const e=this._maps.get(t);if(e)return e.map.getCenter();throw new Error(`Map ${t} does not exist`)},this.getBounds=t=>{const e=this._maps.get(t);if(e)return e.map.getBounds();throw new Error(`Map ${t} does not exist`)},this.polygon=new i.Polygon,this.polyline=new o.Polyline,this.pushpin=new r.Pushpin,this.infobox=new a.Infobox,this.modules={traffic:new l.TrafficModule,directions:new h.DirectionsModule}}}e.BingMap=d,window.rpedrettiBlazorComponents=window.rpedrettiBlazorComponents||{},window.rpedrettiBlazorComponents.bingMap=window.rpedrettiBlazorComponents.bingMap||{},window.rpedrettiBlazorComponents.bingMap.map=new d,window.getBingMap=function(){window.rpedrettiBlazorComponents.bingMap.map.initMap()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(0),i=n(1);e.Polygon=class{constructor(){this._polygons=new Map,this._handlers=new Map,this._initHandler=new Map,this.normalizePolygon=t=>{s.Helpers.removeEmpty(t);const e=t.options;e&&(e.fillColor&&(e.fillColor=s.Helpers.parseColor(e.fillColor)),e.strokeColor&&(e.strokeColor=s.Helpers.parseColor(e.strokeColor)))},this.updateOptions=t=>{const e=this._polygons.get(t.id);e?e.setOptions(t.options):console.error(`no polygon with id ${t.id}`)},this.updateLocations=t=>{const e=t.coordinates.map(t=>new Microsoft.Maps.Location(t.latitude,t.longitude)),n=this._polygons.get(t.id);n&&n.setLocations(e)},this.updateRings=t=>{const e=t.rings.map(t=>t.map(t=>new Microsoft.Maps.Location(t.latitude,t.longitude))),n=this._polygons.get(t.id);n&&n.setRings(e)},this.clearEvents=t=>{const e=this._handlers.get(t)||[];for(const t in e)Microsoft.Maps.Events.removeHandler(e[t]);return!0},this.addEventHandler=(t,e,n,s,i)=>{const o=Microsoft.Maps.Events.addHandler(t,n,t=>{var e=Object.assign({},t);const n=t;e.getX=n.getX(),e.getY=n.getY(),delete e.primitive,delete e.layer,delete e.target,s.invokeMethodAsync(i,e)});this._handlers.has(e)||this._handlers.set(e,{}),this._handlers.get(e)[n]=o},this.buildInstance=t=>{let e;if(this.normalizePolygon(t),t.coordinates){const n=t.coordinates.map(t=>new Microsoft.Maps.Location(t.latitude,t.longitude));e=new Microsoft.Maps.Polygon(n,t.options)}else if(t.rings){const n=t.rings.map(t=>t.map(t=>new Microsoft.Maps.Location(t.latitude,t.longitude)));e=new Microsoft.Maps.Polygon(n,t.options)}for(var{polygonId:n,eventName:s,polygonRef:i,refEventName:o}of this._initHandler.get(t.id)||[])this.addEventHandler(e,n,s,i,o);return this._initHandler.delete(t.id),this._polygons.set(t.id,e),e},this.update=t=>{this.normalizePolygon(t);const e=this._polygons.get(t.id);var n=t.coordinates;return n.length>0&&n.push(n[0]),i(n,JSON.parse(JSON.stringify(e.getLocations())))?i(t.rings,JSON.stringify(e.getRings()))?t.options&&this.updateOptions(t):this.updateRings(t):this.updateLocations(t),1},this.attachEvent=(t,e,n,s)=>{const i=this._polygons.get(t);return i?this.addEventHandler(i,t,e,n,s):(this._initHandler.has(t)||this._initHandler.set(t,[]),this._initHandler.get(t).push({polygonId:t,eventName:e,polygonRef:n,refEventName:s})),1},this.remove=t=>(this.clearEvents(t),this._polygons.delete(t),1),this.detachEvent=(t,e)=>{const n=this._handlers.get(t)[e];return Microsoft.Maps.Events.removeHandler(n),1}}}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(0),i=n(1);e.Polyline=class{constructor(){this._polylines=new Map,this._handlers=new Map,this._initHandler=new Map,this.normalizePolyline=t=>{s.Helpers.removeEmpty(t);const e=t.options;e&&e.strokeColor&&(e.strokeColor=s.Helpers.parseColor(e.strokeColor))},this.updateOptions=t=>{const e=this._polylines.get(t.id);if(!e)throw new Error(`Polyline with id ${t.id} does not exist`);e.setOptions(t.options)},this.updateLocations=t=>{const e=this._polylines.get(t.id);if(!e)throw new Error(`Polyline with id ${t.id} does not exist`);{const n=t.coordinates.map(t=>new Microsoft.Maps.Location(t.latitude,t.longitude));e.setLocations(n)}},this.clearEvents=t=>{const e=this._handlers.get(t)||[];for(const t in e)Microsoft.Maps.Events.removeHandler(e[t]);return!0},this.addEventHandler=(t,e,n,s,i)=>{const o=Microsoft.Maps.Events.addHandler(t,n,t=>{const e=Object.assign({},t);if(t){const n=t;e.getX=n.getX(),e.getY=n.getY(),delete e.primitive,delete e.layer,delete e.target}s.invokeMethodAsync(i,e)});this._handlers.has(e)||this._handlers.set(e,{}),this._handlers.get(e)[n]=o},this.buildInstance=t=>{this.normalizePolyline(t);const e=t.coordinates.map(t=>new Microsoft.Maps.Location(t.latitude,t.longitude)),n=new Microsoft.Maps.Polyline(e,t.options);for(var{polylineId:s,eventName:i,polylineRef:o,refEventName:r}of this._initHandler.get(t.id)||[])this.addEventHandler(n,s,i,o,r);return this._initHandler.delete(t.id),this._polylines.set(t.id,n),n},this.update=t=>{this.normalizePolyline(t);const e=this._polylines.get(t.id);return e&&!i(t.coordinates,JSON.parse(JSON.stringify(e.getLocations())))&&this.updateLocations(t),t.options&&this.updateOptions(t),1},this.attachEvent=(t,e,n,s)=>{const i=this._polylines.get(t);return i?this.addEventHandler(i,t,e,n,s):(this._initHandler.has(t)||this._initHandler.set(t,[]),this._initHandler.get(t).push({polylineId:t,eventName:e,polylineRef:n,refEventName:s})),1},this.remove=t=>(this.clearEvents(t),this._polylines.delete(t),1),this.detachEvent=(t,e)=>{const n=this._handlers.get(t)[e];return Microsoft.Maps.Events.removeHandler(n),1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(0),i=n(1);e.Pushpin=class{constructor(){this._pushpins=new Map,this._handlers=new Map,this._initHandler=new Map,this.normalizePushpin=t=>{s.Helpers.removeEmpty(t);const e=t.options;e&&e.color&&(e.color=s.Helpers.parseColor(e.color))},this.updateOptions=t=>{const e=this._pushpins.get(t.id);e&&e.setOptions(t.options)},this.updateLocation=t=>{const e=this._pushpins.get(t.id);e&&e.setLocation(t.center)},this.clearTarget=(t,e)=>({center:t.getLocation(),id:e}),this.clearEvents=t=>{const e=this._handlers.get(t)||[];for(const t in e)Microsoft.Maps.Events.removeHandler(e[t])},this.addEventHandler=(t,e,n,s,i)=>{const o=Microsoft.Maps.Events.addHandler(t,n,t=>{var n=Object.assign({},t);const o=t;n.getX=o.getX(),n.getY=o.getY(),delete n.primitive,delete n.layer,n.target=this.clearTarget(n.target,e),s.invokeMethodAsync(i,n)});this._handlers.has(e)||this._handlers.set(e,{}),this._handlers.get(e)[n]=o},this.buildInstance=t=>{this.normalizePushpin(t);const e=new Microsoft.Maps.Pushpin(t.center,t.options);for(var{pushpinId:n,eventName:s,pushpinRef:i,refEventName:o}of this._initHandler.get(t.id)||[])this.addEventHandler(e,n,s,i,o);return this._initHandler.delete(t.id),this._pushpins.set(t.id,e),e},this.update=t=>{this.normalizePushpin(t);const e=this._pushpins.get(t.id);return e&&!i(t.center,JSON.parse(JSON.stringify(e.getLocation())))&&this.updateLocation(t),t.options&&this.updateOptions(t),1},this.getPropertie=(t,e)=>this._pushpins.get(t)["get"+e](),this.getInstance=t=>this._pushpins.get(t),this.remove=t=>{const e=this._pushpins.get(t);return this.clearEvents(t),this._pushpins.delete(t),e},this.attachEvent=(t,e,n,s)=>{const i=this._pushpins.get(t);return i?this.addEventHandler(i,t,e,n,s):(this._initHandler.has(t)||this._initHandler.set(t,[]),this._initHandler.get(t).push({pushpinId:t,eventName:e,pushpinRef:n,refEventName:s})),1},this.detachEvent=(t,e)=>{const n=this._handlers.get(t)[e];return Microsoft.Maps.Events.removeHandler(n),1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(0);e.Infobox=class{constructor(){this._infoboxes=new Map,this.normalizeOptions=t=>{if(s.Helpers.removeEmpty(t),t.location){const e=t.location;t.location=new Microsoft.Maps.Location(e.latitude,e.longitude)}},this.register=(t,e,n)=>{this.normalizeOptions(n);const s=new Microsoft.Maps.Infobox(e,n);return this._infoboxes.set(t,s),1},this.get=(t,e)=>this._infoboxes.get(t)["get"+e](),this.setHtmlContent=(t,e)=>(this._infoboxes.get(t).setHtmlContent(e),1),this.setLocation=(t,e)=>{const n=new Microsoft.Maps.Location(e.latitude,e.longitude);return this._infoboxes.get(t).setLocation(n),1},this.setMap=(t,e)=>(this._infoboxes.get(t).setMap(e),1),this.setOptions=(t,e,n=!1)=>(this.normalizeOptions(e),this._infoboxes.get(t).setOptions(e,n),1)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(2);e.TrafficModule=class{constructor(){this._managers=new Map,this.init=(t,e)=>(Microsoft.Maps.loadModule("Microsoft.Maps.Traffic",()=>{const n=new Microsoft.Maps.Traffic.TrafficManager(t);e.showTraffic&&n.show(),this._managers.set(e.mapId,n)}),1),this.updateTraffic=(t,e)=>{var n;return null===(n=this._managers.get(t))||void 0===n||n.setOptions(e),1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(2);e.DirectionsModule=class{constructor(){this.init=(t,e)=>{Microsoft.Maps.loadModule("Microsoft.Maps.Directions",()=>{const n=new Microsoft.Maps.Directions.DirectionsManager(t);e.moduleRef&&Microsoft.Maps.Events.addHandler(n,"directionsUpdated",()=>{e.moduleRef.invokeMethodAsync("DirectionsUpdatedAsync")});const s=document.getElementById(e.itineraryPanelId);return n.setRenderOptions({itineraryContainer:s||void 0}),n.showInputPanel(e.inputPanelId),1})}}}}]);